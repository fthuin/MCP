\subsection{Sous-problème 2}
\subsubsection*{Spécifications}

\noindent \textbf{Pré :} tab est un tableau d'entiers\\
\indent \indent $\wedge$ decalage est un nombre d'entiers positifs\\
\textbf{Post :} tous les éléments du tableau aux positions i sont déplacés aux positions (i+decalage \% tab.length)\\
\textbf{Résultat :} - \\



\textbf{Invariant :}

\begin{tabular}{ll}

& $\mathrm{decalage}=\mathrm{decalage}_{0}$ \\
$\dot{\wedge}$ & $\forall i \in \mathbb{Z} \mid i < \mathrm{switchDone} $ \\
$\dot{\wedge}$ & $\forall j \in \mathbb{Z} \mid j < \frac{\mathrm{tab.length}}{\mathrm{PGCD}}$ \\
$\Rightarrow$ & les éléments aux indices $tab_{0}[(j+i) \% tab.length]$ sont déplacés aux indices $((j\times decalage)+i) \% tab.length$ \\
\end{tabular}

\subsubsection*{\{Pre\} Init \{Inv\}}

$\{decalage=decalage_{0}, PGCD =\cdots, switchDone=0$
$PGCD_{1} = \cdots$

On a bien qu'il n'existe aucun $i < \mathrm{switchDone}$ et donc
qu'aucun élément n'est déplacé au sein de tab.

L'invariant est donc vérifié sur INIT.

\subsubsection*{\{Inv \&\& !H \} Iter \{Inv\}}

A chaque itération, switchCadran2 est appelé avec les arguments : tab,
switchDone (incrémenté), décalage et tab.length / PGCD. De ce fait,
selon la spécification de switchCadran2 prouvé précédemment, nous avons
que chaque élément $x \in [0\cdots
    \frac{\mathrm{tab.length}}{\mathrm{PGCD}}[$ sont déplacés à la
        position $(x\times \mathrm{decal})+i \% \mathrm{tab.length}$ avec $i < \mathrm{switchDone}$

On a donc que les éléments aux indices
$tab_{0}[(j+i)\%\mathrm{tab.length}]$ sont déplacés aux indices
$((j\times decalage) + i) \% \mathrm{tab.length}$ pour chaque $i <
\mathrm{switchDone}$
et $j \leq \frac{\mathrm{tab.length}}{\mathrm{PGCD}}$

\subsubsection*{\{Inv \&\& H\} Clot \{Post\}}

 Nous avons que switchDone=PGCD ce qui implique qu'on a déplacé
$\mathrm{PGCD}\times \frac{\mathrm{tab.length}}{\mathrm{PGCD}}$ éléments et
que chacun d'entre eux est déplacé une et une seule fois (comme démontré
plus haut). Tous les élémetnts de tab sont donc déplacés de décal positions.

\subsubsection*{Preuve de terminaison}
TODO: Preuve de terminaison
%TODO Preuve de terminaison